#How mbed Works

The mbed hardware architecture is designed to make sure you have all the tools and utilities to be productive. Most boards have an integrated debug circuit used for assisting in development by programming the device, logging program execution and giving access to the debug access port. Here is how it works...

##Architecture diagram

This is the basic architecture of a mbed Microcontroller board:

<span style="text-align:center; display:block;">
![](/Getting_Started/Images/mbed_Interface.webp)
</span>

##How programming works

There are a few options:
1. When you plug in an mbed Enabled board in to your PC using USB, it appears like a USB flash disk. This small disk is presented by the mbed Interface, and allows you to save ARM microcontroller binaries you want to run directly on to the mbed, without needing drivers.
2. The same USB connector exposes a debug protocol such as CMSIS-DAP. This enabled lots of IDEs to program the device and allow debug sessions

##How USB serial works

The mbed Interface also presents a USB serial/com interface. This is basically a UART-USB bridge, and connects to UART of the interface. So if you send characters out of UART of the target microcontroller, they will be read by the mbed interface and transfered over the USB link. When you printf(), it is just sendin characters to UART. This means if you make your own PCB, these characters will still appear on UART.

##Notes

The .bin files the mbed Microcontroller accepts are standard raw ARM binaries, and can be generated by any compiler you like. You have bare-metal control of the target microcontroller, as the separate interface manages programming over JTAG or SWD i.e. we don't use a bootloader or monitor on the target. So you really are just loading on a raw binary. This means you can build your own PCB using the same target microcontroller, and the same program binary will run on that. 


# The mbed Interface

More information about the mbed Interface, circuits on which it runs can be found in the HDK reference manual or on the DAPLink github page. The HDK includes reference circuits which can be used to create your own boards and DAPLink is the firmware that runs on these circuits!

##Connectivity

The best representation of the connectivity of the mbed interface was in Simon's official unoffical diagram:

<span style="text-align:center; display:block;">
![](/Getting_Started/Images/mbed_Interface.webp)
</span>

The headlines are that it:

- Provides a USB connection to the host computer, which exposes a Mass Storage (flash disk) and a USB Serial Port

- Has a SWD or JTAG connection to the target, so that it can program the target flash. You can also use this for debugging.

- A physical UART connection exists between the target and the interface which is relayed over interface USB Serial port

