TODO: porting context for storage